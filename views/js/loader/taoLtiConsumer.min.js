define("taoLtiConsumer/util/providers/ltiProvider",["jquery","i18n","util/url"],function($,__,urlUtils){'use strict';return{listLtiProviders:function listLtiProviders(data){return new Promise(function(resolve,reject){$.ajax({url:urlUtils.route("getAvailableLtiProviders","DeliveryMgmt","taoLtiConsumer"),data:{q:data.q,page:data.page},type:"GET",dataType:"JSON"}).done(function(tests){tests?resolve(tests):reject(new Error(__("Unable to load LTI providers")))}).fail(function(){reject(new Error(__("Unable to load LTI providers")))})})}}}),define("taoLtiConsumer/util/forms/deliveryFormHelper",["jquery","i18n","taoDeliveryRdf/util/forms/deliveryFormHelper"],function($,__,deliveryFormHelper){'use strict';return{setupLtiForm:function setupLtiForm($form,providers){var $reportContainer=$form.closest(".content-block"),$providerFilterContainer=$(".lti-provider-select-container",$form),$providerInputElement=$("#ltiProvider",$form),ltiTaskButton=deliveryFormHelper.replaceSubmitWithTaskButton({$form:$form,$reportContainer:$reportContainer});deliveryFormHelper.createSelectorInput({$filterContainer:$providerFilterContainer,$inputElement:$providerInputElement,taskButton:ltiTaskButton,dataProvider:{list:providers.listLtiProviders},inputPlaceholder:__("Select the Provider you want to publish"),inputLabel:__("LTI Provider")})}}}),define("css!taoLtiConsumerCss/wizard",[],function(){}),define("taoLtiConsumer/controller/DeliveryMgmt/wizard",["jquery","taoDeliveryRdf/util/providers/testsProvider","taoLtiConsumer/util/providers/ltiProvider","taoDeliveryRdf/util/forms/deliveryFormHelper","taoLtiConsumer/util/forms/deliveryFormHelper","ui/tabs","css!taoLtiConsumerCss/wizard.css"],function($,testsProvider,ltiProvider,rdfDeliveryFormHelper,ltiDeliveryFormHelper,tabsFactory){'use strict';var providers=Object.assign({},testsProvider,ltiProvider),deliveryFormHelper=Object.assign({},rdfDeliveryFormHelper,ltiDeliveryFormHelper);return{start:function start(){var $multiForm=$(".multi-form-container"),tabsData=$("[data-tab-content]",$multiForm).toArray().map(function(el){return{label:$(el).data("tab-label"),name:$(el).data("tab-content")}}),$tabContainer=$(".tab-selector",$multiForm),$tabsConstentContainer=$(".main-container");tabsFactory($tabContainer,{showHideTarget:$tabsConstentContainer,tabs:tabsData});var tabNames=tabsData.map(function(t){return t.name});tabNames.includes("tao-local")&&this.setupTaoLocalForm(),tabNames.includes("lti-based")&&this.setupLtiForm()},setupTaoLocalForm:function setupTaoLocalForm(){var $tabContent=$("[data-tab-content=\"tao-local\"]"),$form=$("#simpleWizard",$tabContent);deliveryFormHelper.setupTaoLocalForm($form,providers)},setupLtiForm:function setupLtiForm(){var $tabContent=$("[data-tab-content=\"lti-based\"]"),$form=$("#simpleLtiWizard",$tabContent);deliveryFormHelper.setupLtiForm($form,providers)}}}),define("taoLtiConsumer/controller/routes",{DeliveryMgmt:{actions:{wizard:"controller/DeliveryMgmt/wizard"}}}),function(c){var d=document,s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0].appendChild(s),s.styleSheet?s.styleSheet.cssText=c:s.appendChild(d.createTextNode(c))}(".section-container .content-block .multi-form-container{background:#f3f1ef;padding:30px;border:1px #ddd solid;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;min-width:550px}.section-container .content-block .multi-form-container form{background:inherit;padding:0;border:none}.section-container .content-block .multi-form-container form .form-toolbar .loading-button{float:right}.section-container .content-block .multi-form-container nav{margin-bottom:30px}\n\n/*# sourceMappingURL=taoLtiConsumerCss/wizard.css.map */"),define("taoLtiConsumer/loader/taoLtiConsumer.bundle",function(){}),define("taoLtiConsumer/loader/taoLtiConsumer.min",["taoDeliveryRdf/loader/taoDeliveryRdf.min"],function(){});
//# sourceMappingURL=taoLtiConsumer.min.js.map